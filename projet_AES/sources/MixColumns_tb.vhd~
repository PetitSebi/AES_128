-- SÃ©bastien Dosset 07/12/16
-- MixColumns Test Bench

library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;
library lib_sources;
use lib_sources.crypt_pack.all;

entity MixColumns_tb is
end MixColumns_tb;

architecture MixColumns_tb_arch of MixColumns_tb is

	component MixColumns
		port(
		state_i : in type_state;
		MixValid_i   : in std_logic;
		state_o : out type_state);
	end component;

	signal S2_s,S3_s : bit8;
begin

	DUT : MixColumns
		port map(
		MixColumns_i   => MixColumns_i_s,
		MixColumns_o => MixColumns_o_s,
		resetb_i     => resetb_i_s,
		clock_i      => clock_i_s);

	MixColumns_i_s(0)(0) <= x"5b";
	MixColumns_i_s(0)(1) <= x"e2";
	MixColumns_i_s(0)(2) <= x"97";
	MixColumns_i_s(0)(3) <= x"7f";
	MixColumns_i_s(1)(0) <= x"5a";
	MixColumns_i_s(1)(1) <= x"f3";
	
	resetb_i_s <= '1', '0' after 200 ns, '1' after 250 ns;
	clock_i_s <= not(clock_i_s) after 100 ns;

end MixColumns_tb_arch;

